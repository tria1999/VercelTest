import { f as MessageHandler } from './types-Dw29Fr9y.mjs';

type CallbackHandlers = {
    [topicName: string]: {
        [consumerGroup: string]: MessageHandler;
    };
};
interface NextApiRequest {
    method?: string;
    url?: string;
    headers: Record<string, string | string[] | undefined>;
    body?: any;
    on(event: "data", listener: (chunk: Buffer) => void): void;
    on(event: "end", listener: () => void): void;
    on(event: "error", listener: (err: Error) => void): void;
}
interface NextApiResponse {
    status(statusCode: number): NextApiResponse;
    setHeader(name: string, value: string): void;
    json(data: any): void;
    send(data: any): void;
    end(): void;
}
/**
 * Queue callback handler for Next.js Pages Router
 *
 * Automatically extracts queue information from CloudEvent format
 * and routes to the appropriate handler based on topic and consumer group.
 *
 * @param handlers Object with topic-specific handlers organized by consumer groups
 * @returns A Next.js Pages Router handler function
 *
 * @example
 * ```typescript
 * // pages/api/queue.ts
 * import { handleCallback } from "@vercel/queue/nextjs/pages";
 *
 * export default handleCallback({
 *   "image-processing": {
 *     "compress": (message, metadata) => console.log("Compressing image", message),
 *     "resize": (message, metadata) => console.log("Resizing image", message),
 *   }
 * });
 * ```
 */
declare function handleCallback(handlers: CallbackHandlers): (req: NextApiRequest, res: NextApiResponse) => Promise<void>;

export { handleCallback };
