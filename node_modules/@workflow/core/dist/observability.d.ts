/**
 * Observability utilities for workflow inspection.
 * Shared between CLI and Web UI for consistent behavior.
 */
import { inspect } from 'node:util';
/**
 * Marker for stream reference objects that can be rendered as links
 */
export declare const STREAM_REF_TYPE = "__workflow_stream_ref__";
/**
 * A stream reference object that contains the stream ID and can be
 * detected in the UI to render as a clickable link
 */
export interface StreamRef {
    __type: typeof STREAM_REF_TYPE;
    streamId: string;
}
/**
 * Marker for custom class instance references.
 * Used in observability to represent serialized class instances
 * that cannot be fully deserialized (because the class is not registered).
 */
export declare const CLASS_INSTANCE_REF_TYPE = "__workflow_class_instance_ref__";
/**
 * A class instance reference that contains the class name and serialized data.
 * This is used during o11y hydration when a custom class instance is encountered
 * but the class is not registered for deserialization.
 *
 * Provides a custom `util.inspect.custom` representation for nice CLI output:
 * `Point { x: 1, y: 2 } [class//path/to/file.ts//Point]`
 */
export declare class ClassInstanceRef {
    readonly className: string;
    readonly classId: string;
    readonly data: unknown;
    readonly __type = "__workflow_class_instance_ref__";
    constructor(className: string, classId: string, data: unknown);
    /**
     * Custom inspect for Node.js util.inspect (used by console.log, CLI, etc.)
     * Renders as: ClassName@filename { ...data }
     * The @filename portion is styled gray (like undefined in Node.js)
     */
    [inspect.custom](_depth: number, options: import('node:util').InspectOptionsStylized): string;
    /**
     * For JSON.stringify - returns a plain object representation
     */
    toJSON(): {
        __type: string;
        className: string;
        classId: string;
        data: unknown;
    };
}
/**
 * Check if a value is a ClassInstanceRef object
 */
export declare const isClassInstanceRef: (value: unknown) => value is ClassInstanceRef;
/**
 * Check if a value is a stream ID string
 */
export declare const isStreamId: (value: unknown) => boolean;
/**
 * Check if a value is a StreamRef object
 */
export declare const isStreamRef: (value: unknown) => value is StreamRef;
export declare const hydrateResourceIO: <T extends {
    stepId?: string;
    hookId?: string;
    eventId?: string;
    input?: any;
    output?: any;
    metadata?: any;
    eventData?: any;
    executionContext?: any;
}>(resource: T) => T;
/**
 * Extract all stream IDs from a value (recursively traverses objects/arrays)
 */
export declare function extractStreamIds(obj: unknown): string[];
/**
 * Truncate a string to a maximum length, adding ellipsis if needed
 */
export declare function truncateId(id: string, maxLength?: number): string;
//# sourceMappingURL=observability.d.ts.map