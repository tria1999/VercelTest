import { z } from 'zod';
import type { SerializedData } from './serialization.js';
import { type PaginationOptions, type ResolveData, type StructuredError } from './shared.js';
export declare const WorkflowRunStatusSchema: z.ZodEnum<{
    pending: "pending";
    running: "running";
    completed: "completed";
    failed: "failed";
    cancelled: "cancelled";
}>;
/**
 * Base schema for the Workflow runs. Prefer using WorkflowRunSchema
 * which implements a discriminatedUnion for various states
 */
export declare const WorkflowRunBaseSchema: z.ZodObject<{
    runId: z.ZodString;
    status: z.ZodEnum<{
        pending: "pending";
        running: "running";
        completed: "completed";
        failed: "failed";
        cancelled: "cancelled";
    }>;
    deploymentId: z.ZodString;
    workflowName: z.ZodString;
    executionContext: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    input: z.ZodArray<z.ZodAny>;
    output: z.ZodOptional<z.ZodAny>;
    error: z.ZodOptional<z.ZodObject<{
        message: z.ZodString;
        stack: z.ZodOptional<z.ZodString>;
        code: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    expiredAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    startedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    completedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    createdAt: z.ZodCoercedDate<unknown>;
    updatedAt: z.ZodCoercedDate<unknown>;
}, z.core.$strip>;
export declare const WorkflowRunSchema: z.ZodDiscriminatedUnion<[z.ZodObject<{
    runId: z.ZodString;
    deploymentId: z.ZodString;
    workflowName: z.ZodString;
    executionContext: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    input: z.ZodArray<z.ZodAny>;
    expiredAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    startedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    createdAt: z.ZodCoercedDate<unknown>;
    updatedAt: z.ZodCoercedDate<unknown>;
    status: z.ZodEnum<{
        pending: "pending";
        running: "running";
    }>;
    output: z.ZodUndefined;
    error: z.ZodUndefined;
    completedAt: z.ZodUndefined;
}, z.core.$strip>, z.ZodObject<{
    runId: z.ZodString;
    deploymentId: z.ZodString;
    workflowName: z.ZodString;
    executionContext: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    input: z.ZodArray<z.ZodAny>;
    expiredAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    startedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    createdAt: z.ZodCoercedDate<unknown>;
    updatedAt: z.ZodCoercedDate<unknown>;
    status: z.ZodLiteral<"cancelled">;
    output: z.ZodUndefined;
    error: z.ZodUndefined;
    completedAt: z.ZodCoercedDate<unknown>;
}, z.core.$strip>, z.ZodObject<{
    runId: z.ZodString;
    deploymentId: z.ZodString;
    workflowName: z.ZodString;
    executionContext: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    input: z.ZodArray<z.ZodAny>;
    expiredAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    startedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    createdAt: z.ZodCoercedDate<unknown>;
    updatedAt: z.ZodCoercedDate<unknown>;
    status: z.ZodLiteral<"completed">;
    output: z.ZodAny;
    error: z.ZodUndefined;
    completedAt: z.ZodCoercedDate<unknown>;
}, z.core.$strip>, z.ZodObject<{
    runId: z.ZodString;
    deploymentId: z.ZodString;
    workflowName: z.ZodString;
    executionContext: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    input: z.ZodArray<z.ZodAny>;
    expiredAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    startedAt: z.ZodOptional<z.ZodCoercedDate<unknown>>;
    createdAt: z.ZodCoercedDate<unknown>;
    updatedAt: z.ZodCoercedDate<unknown>;
    status: z.ZodLiteral<"failed">;
    output: z.ZodUndefined;
    error: z.ZodObject<{
        message: z.ZodString;
        stack: z.ZodOptional<z.ZodString>;
        code: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>;
    completedAt: z.ZodCoercedDate<unknown>;
}, z.core.$strip>], "status">;
export type WorkflowRunStatus = z.infer<typeof WorkflowRunStatusSchema>;
export type WorkflowRun = z.infer<typeof WorkflowRunSchema>;
export interface CreateWorkflowRunRequest {
    deploymentId: string;
    workflowName: string;
    input: SerializedData[];
    executionContext?: SerializedData;
}
export interface UpdateWorkflowRunRequest {
    status?: WorkflowRunStatus;
    output?: SerializedData;
    error?: StructuredError;
    executionContext?: Record<string, any>;
}
export interface GetWorkflowRunParams {
    resolveData?: ResolveData;
}
export interface ListWorkflowRunsParams {
    workflowName?: string;
    status?: WorkflowRunStatus;
    pagination?: PaginationOptions;
    resolveData?: ResolveData;
}
export interface CancelWorkflowRunParams {
    resolveData?: ResolveData;
}
//# sourceMappingURL=runs.d.ts.map