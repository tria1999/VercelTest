/**
 * Node metadata for control flow semantics
 */
export interface NodeMetadata {
    loopId?: string;
    loopIsAwait?: boolean;
    conditionalId?: string;
    conditionalBranch?: 'Then' | 'Else';
    parallelGroupId?: string;
    parallelMethod?: string;
    /** Step is passed as a reference (callback/tool) rather than directly called */
    isStepReference?: boolean;
    /** Context where the step reference was found (e.g., "tools.getWeather.execute") */
    referenceContext?: string;
    /** This node is a tool step connected to a DurableAgent */
    isTool?: boolean;
    /** The name of the tool (key in tools object) */
    toolName?: string;
    /** This node represents a collection of tools (imported variable) */
    isToolsCollection?: boolean;
    /** The variable name of the tools collection */
    toolsVariable?: string;
}
/**
 * Graph node for workflow visualization
 */
export interface ManifestNode {
    id: string;
    type: string;
    data: {
        label: string;
        nodeKind: string;
        stepId?: string;
    };
    metadata?: NodeMetadata;
}
/**
 * Graph edge for workflow control flow
 */
export interface ManifestEdge {
    id: string;
    source: string;
    target: string;
    type: 'default' | 'loop' | 'conditional' | 'parallel' | 'tool';
    label?: string;
}
/**
 * Graph data for a single workflow
 */
export interface WorkflowGraphData {
    nodes: ManifestNode[];
    edges: ManifestEdge[];
}
/**
 * Step entry in the manifest
 */
export interface ManifestStepEntry {
    stepId: string;
}
/**
 * Workflow entry in the manifest (includes graph data)
 */
export interface ManifestWorkflowEntry {
    workflowId: string;
    graph: WorkflowGraphData;
}
/**
 * Manifest structure - single source of truth for all workflow metadata
 */
export interface Manifest {
    version: string;
    steps: {
        [filePath: string]: {
            [stepName: string]: ManifestStepEntry;
        };
    };
    workflows: {
        [filePath: string]: {
            [workflowName: string]: ManifestWorkflowEntry;
        };
    };
}
/**
 * Extracts workflow graphs from a bundled workflow file.
 * Returns workflow entries organized by file path, ready for merging into Manifest.
 */
export declare function extractWorkflowGraphs(bundlePath: string): Promise<{
    [filePath: string]: {
        [workflowName: string]: ManifestWorkflowEntry;
    };
}>;
//# sourceMappingURL=workflows-extractor.d.ts.map